"use strict";(self["webpackChunkcmi_uni_app"]=self["webpackChunkcmi_uni_app"]||[]).push([[545],{96293:function(t,n,e){e.r(n),e.d(n,{default:function(){return d}});var i,a={cPage:e(83841).A},o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("c-page",{attrs:{"bg-theme":"none"}},t._l(t.integralRecords,(function(n){return e("v-uni-view",{key:n.bill_id,staticClass:"p-20 flex align-items-center gap-8 bd-b-1 bg-white ft-15"},[e("v-uni-view",{staticClass:"flex-auto"},[e("v-uni-text",{staticClass:"color-black"},[t._v(t._s(n.title))]),e("v-uni-view",{staticClass:"color-muted"},[t._v(t._s(n.create_time))])],1),e("v-uni-view",{staticClass:"flex-none",class:n.pm?"color-danger":"color-success"},[t._v(t._s(n.pm?"+":"-")+t._s(parseFloat(n.number)))])],1)})),1)},r=[],c=e(40658),s=e(34358),u={mixins:[(0,s.A)({resourceName:"integral",pagingFetcher:c.$o,pageSize:10})]},l=u,h=e(18535),f=(0,h.A)(l,o,r,!1,null,null,null,!1,a,i),d=f.exports},34358:function(t,n,e){e.d(n,{A:function(){return s}});var i=e(42727),a=e(31969),o=e(92771),r=e(50575),c=e(2775);e(28706),e(26099);function s(t){var n=t.resourceName,e=t.pagingFetcher,s=t.pageSize,u=void 0===s?10:s,l=t.loginRequired,h=void 0===l||l;if(!n||!e)return{};var f={data:function(){return(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},"".concat(n,"Records"),[]),"".concat(n,"Page"),0),"".concat(n,"Loading"),!1),"".concat(n,"Finished"),!1)},onLoad:function(){var t=this;h?this.$store.getters.isLogin?this["".concat(n,"LoadNextPage")]():(this.$util.ensureLogin(),this["".concat(n,"LoginWatcher")]=this.$watch("$store.getters.isLogin",(function(e){e&&t["".concat(n,"LoadNextPage")]()}))):this["".concat(n,"LoadNextPage")]()},onUnload:function(){this["".concat(n,"LoginWatcher")]&&this["".concat(n,"LoginWatcher")]()},onPullDownRefresh:function(){!h||this.$store.getters.isLogin?this["".concat(n,"Reload")]().finally((function(){return uni.stopPullDownRefresh()})):uni.stopPullDownRefresh()},onReachBottom:function(){h&&!this.$store.getters.isLogin||this["".concat(n,"LoadNextPage")]()},methods:(0,c.A)((0,c.A)({},"".concat(n,"LoadNextPage"),function(){var t=(0,r.A)((0,i.A)().mark((function t(){var r,c,s,l,h;return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this["".concat(n,"Loading")]&&!this["".concat(n,"Finished")]){t.next=2;break}return t.abrupt("return");case 2:return r=this["".concat(n,"Page")]+1,this["".concat(n,"Loading")]=!0,t.next=6,this.$util.ef(e({page:r,limit:u}));case 6:if(c=t.sent,s=(0,o.A)(c,2),l=s[0],h=s[1],this["".concat(n,"Loading")]=!1,!l){t.next=13;break}return t.abrupt("return",uni.showToast({title:l.message,icon:"none"}));case 13:this["".concat(n,"Records")]=[].concat((0,a.A)(this["".concat(n,"Records")]),(0,a.A)(h.data.list)),this["".concat(n,"Page")]=r,this["".concat(n,"Finished")]=h.data.list.length<u;case 16:case"end":return t.stop()}}),t,this)})));function c(){return t.apply(this,arguments)}return c}()),"".concat(n,"Reload"),function(){var t=(0,r.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this["".concat(n,"Page")]=0,this["".concat(n,"Records")]=[],this["".concat(n,"Loading")]=!1,this["".concat(n,"Finished")]=!1,t.next=6,this["".concat(n,"LoadNextPage")]();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}())};return f}},31969:function(t,n,e){e.d(n,{A:function(){return s}});var i=e(10925);function a(t){if(Array.isArray(t))return(0,i.A)(t)}e(52675),e(89463),e(2259),e(23418),e(26099),e(47764),e(62953);function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var r=e(28116);e(16280),e(76918);function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return a(t)||o(t)||(0,r.A)(t)||c()}}}]);