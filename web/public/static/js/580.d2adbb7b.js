(self["webpackChunkcmi_uni_app"]=self["webpackChunkcmi_uni_app"]||[]).push([[580],{15722:function(e,t,_){var r=_(63477);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=_(69333).A;s("5bef89ce",r,!0,{sourceMap:!1,shadowMode:!1})},20580:function(e,t,_){"use strict";var r;_.d(t,{A:function(){return u}});var s,i=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("v-uni-view",[e.nodes.length?e._e():e._t("default"),_("v-uni-view",{style:e.showAm+(e.selectable?";user-select:text;-webkit-user-select:text":""),attrs:{id:"top",animation:e.scaleAm},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e._touchstart.apply(void 0,arguments)},touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e._touchmove.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e._tap.apply(void 0,arguments)}}},[_("div",{attrs:{id:"rtf"+e.uid}})])],2)},o=[],n=_(33883),a=n.A,c=(_(15722),_(18535)),l=(0,c.A)(a,i,o,!1,null,"032fc99e",null,!1,r,s),u=l.exports},63477:function(e,t,_){"use strict";_.r(t);var r=_(45522),s=_.n(r),i=_(67643),o=_.n(i),n=o()(s());n.push([e.id,"@-webkit-keyframes show-data-v-032fc99e{0%{opacity:0}100%{opacity:1}}@keyframes show-data-v-032fc99e{0%{opacity:0}100%{opacity:1}}\n\n\n\n",""]),t["default"]=n},33883:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _Users_cyrus_works_idahtechs_cmi_uni_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35305),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28706),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74423),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25276),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(78459),core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27495),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21699),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(71761),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25440),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9__),rpx=uni.getSystemInfoSync().screenWidth/750,cfg=__webpack_require__(14656);__webpack_exports__.A={name:"parser",data:function(){return{uid:this._uid,scaleAm:"",showAm:"",imgs:[],nodes:[]}},props:{html:null,autopause:{type:Boolean,default:!0},autosetTitle:{type:Boolean,default:!0},domain:String,gestureZoom:Boolean,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean},watch:{html:function(e){this.setContent(e)}},mounted:function(){this.imgList=[],this.imgList.each=function(e){for(var t=0,_=this.length;t<_;t++)this.setItem(t,e(this[t],t,this))},this.imgList.setItem=function(e,t){if(void 0!=e&&t){if(0==t.indexOf("http")&&this.includes(t)){for(var _,r="",s=0;_=t[s];s++){if("/"==_&&"/"!=t[s-1]&&"/"!=t[s+1])break;r+=Math.random()>.5?_.toUpperCase():_}return r+=t.substr(s),this[e]=r}if(this[e]=t,t.includes("data:image")){var i=t.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!i)return}}},this.html&&this.setContent(this.html)},beforeDestroy:function(){this._observer&&this._observer.disconnect(),this.imgList.each((function(e){})),clearInterval(this._timer)},methods:{_Dom2Str:function(e){var t,_="",r=(0,_Users_cyrus_works_idahtechs_cmi_uni_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__.A)(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;if("text"==s.type)_+=s.text;else{for(var i in _+="<"+s.name,s.attrs||{})_+=" "+i+'="'+s.attrs[i]+'"';s.children&&s.children.length?_+=">"+this._Dom2Str(s.children)+"</"+s.name+">":_+=">"}}}catch(o){r.e(o)}finally{r.f()}return _},_handleHtml:function(e,t){if("string"!=typeof e&&(e=this._Dom2Str(e.nodes||e)),e.includes("rpx")&&(e=e.replace(/[0-9.]+\s*rpx/g,(function(e){return parseFloat(e)*rpx+"px"}))),!t){var _="<style scoped>@keyframes show{0%{opacity:0}100%{opacity:1}}";for(var r in cfg.userAgentStyles)_+="".concat(r,"{").concat(cfg.userAgentStyles[r],"}");for(r in this.tagStyle)_+="".concat(r,"{").concat(this.tagStyle[r],"}");_+="</style>",e=_+e}return e},setContent:function(e,t){var _=this;if(e){var r=document.createElement("div");t?this.rtf?this.rtf.appendChild(r):this.rtf=r:(this.rtf&&this.rtf.parentNode.removeChild(this.rtf),this.rtf=r),r.innerHTML=this._handleHtml(e,t);for(var s,i=this.rtf.getElementsByTagName("style"),o=0;s=i[o++];)s.innerHTML=s.innerHTML.replace(/body/g,"#rtf"+this._uid),s.setAttribute("scoped","true");!this._observer&&this.lazyLoad&&IntersectionObserver&&(this._observer=new IntersectionObserver((function(e){for(var t,r=0;t=e[r++];)t.isIntersecting&&(t.target.src=t.target.getAttribute("data-src"),t.target.removeAttribute("data-src"),_._observer.unobserve(t.target))}),{rootMargin:"900px 0px 900px 0px"}));var n=this,a=this.rtf.getElementsByTagName("title");a.length&&this.autosetTitle&&uni.setNavigationBarTitle({title:a[0].innerText}),this.imgList.length=0;for(var c,l=this.rtf.getElementsByTagName("img"),u=0,h=0;c=l[u];u++){c.style.maxWidth="100%";var d=c.getAttribute("src");this.domain&&d&&("/"==d[0]?"/"==d[1]?c.src=(this.domain.includes("://")?this.domain.split("://")[0]:"")+":"+d:c.src=this.domain+d:d.includes("://")||(c.src=this.domain+"/"+d)),c.hasAttribute("ignore")||"A"==c.parentElement.nodeName||(c.i=h++,n.imgList.push(c.src||c.getAttribute("data-src")),c.onclick=function(){var e=!0;this.ignore=function(){return e=!1},n.$emit("imgtap",this),e&&uni.previewImage({current:this.i,urls:n.imgList})}),c.onerror=function(){n.$emit("error",{source:"img",target:this})},n.lazyLoad&&this._observer&&c.src&&0!=c.i&&(c.setAttribute("data-src",c.src),c.removeAttribute("src"),this._observer.observe(c))}var m,f=this.rtf.getElementsByTagName("a"),p=(0,_Users_cyrus_works_idahtechs_cmi_uni_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__.A)(f);try{for(p.s();!(m=p.n()).done;){var g=m.value;g.onclick=function(){var e=!0,t=this.getAttribute("href");if(n.$emit("linkpress",{href:t,ignore:function(){return e=!1}}),e&&t)if("#"==t[0])n.useAnchor&&n.navigateTo({id:t.substr(1)});else{if(0==t.indexOf("http")||0==t.indexOf("//"))return!0;uni.navigateTo({url:t})}return!1}}}catch(x){p.e(x)}finally{p.f()}var v=this.rtf.getElementsByTagName("video");n.videoContexts=v;for(var b,E=0;b=v[E++];)b.style.maxWidth="100%",b.style.width="100%",b.onerror=function(){n.$emit("error",{source:"video",target:this})},b.onplay=function(){if(n.autopause)for(var e,t=0;e=n.videoContexts[t++];)e!=this&&e.pause()};var y,M,A=this.rtf.getElementsByTagName("audios"),O=(0,_Users_cyrus_works_idahtechs_cmi_uni_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__.A)(A);try{for(O.s();!(y=O.n()).done;){var T=y.value;T.onerror=function(){n.$emit("error",{source:"audio",target:this})}}}catch(x){O.e(x)}finally{O.f()}this.document=this.rtf,t||document.getElementById("rtf"+this._uid).appendChild(this.rtf),this.$nextTick((function(){_.nodes=[1],_.$emit("load")})),setTimeout((function(){return _.showAm=""}),500),clearInterval(this._timer),this._timer=setInterval((function(){var e=[_.rtf.getBoundingClientRect()];_.width=e[0].width,e[0].height==M&&(_.$emit("ready",e[0]),clearInterval(_._timer)),M=e[0].height}),350),this.showWithAnimation&&!t&&(this.showAm="animation:show .5s")}else this.rtf&&!t&&this.rtf.parentNode.removeChild(this.rtf)},getText:function(){arguments.length>0&&void 0!==arguments[0]||this.nodes;return this.rtf.innerText},navigateTo:function(e){if(!this.useAnchor)return e.fail&&e.fail({errMsg:"Anchor is disabled"});if(!e.id)return window.scrollTo(0,this.rtf.offsetTop),e.success&&e.success({errMsg:"pageScrollTo:ok"});var t=document.getElementById(e.id);if(!t)return e.fail&&e.fail({errMsg:"Label not found"});e.scrollTop=this.rtf.offsetTop+t.offsetTop,uni.pageScrollTo(e)},getVideoContext:function(e){if(!e)return this.videoContexts;for(var t=this.videoContexts.length;t--;)if(this.videoContexts[t].id==e)return this.videoContexts[t]},preLoad:function preLoad(html,num){html.constructor==Array&&(html=this._Dom2Str(html));var script="var contain=document.createElement('div');contain.innerHTML='"+html.replace(/'/g,"\\'")+"';for(var imgs=contain.querySelectorAll('img'),i=imgs.length-1;i>="+num+";i--)imgs[i].removeAttribute('src');";eval(script)},_tap:function(e){if(this.gestureZoom&&e.timeStamp-this._lastT<300){var t=e.touches[0].pageY-e.currentTarget.offsetTop;if(this._zoom)this._scaleAm.translateX(0).scale(1).step(),uni.pageScrollTo({scrollTop:(t+this._initY)/2-e.touches[0].clientY,duration:400});else{var _=e.touches[0].pageX-e.currentTarget.offsetLeft;this._initY=t,this._scaleAm=uni.createAnimation({transformOrigin:"".concat(_,"px ").concat(this._initY,"px 0"),timingFunction:"ease-in-out"}),this._scaleAm.scale(2).step(),this._tMax=_/2,this._tMin=(_-this.width)/2,this._tX=0}this._zoom=!this._zoom,this.scaleAm=this._scaleAm.export()}this._lastT=e.timeStamp},_touchstart:function(e){1==e.touches.length&&(this._initX=this._lastX=e.touches[0].pageX)},_touchmove:function(e){var t=e.touches[0].pageX-this._lastX;if(this._zoom&&1==e.touches.length&&Math.abs(t)>20){if(this._lastX=e.touches[0].pageX,this._tX<=this._tMin&&t<0||this._tX>=this._tMax&&t>0)return;this._tX+=t*Math.abs(this._lastX-this._initX)*.05,this._tX<this._tMin&&(this._tX=this._tMin),this._tX>this._tMax&&(this._tX=this._tMax),this._scaleAm.translateX(this._tX).step(),this.scaleAm=this._scaleAm.export()}}}}},14656:function(e){function t(e){for(var t={},_=e.split(","),r=_.length;r--;)t[_[r]]=!0;return t}e.exports={filter:null,highlight:null,onText:null,blankChar:t(" , ,\t,\r,\n,\f"),blockTags:t("address,article,aside,body,caption,center,cite,footer,header,html,nav,section,pre"),ignoreTags:t("area,base,basefont,canvas,command,frame,input,isindex,keygen,link,map,meta,param,script,source,style,svg,textarea,title,track,use,wbr,embed,iframe"),richOnlyTags:t("a,colgroup,fieldset,legend,picture,table"),selfClosingTags:t("area,base,basefont,br,col,circle,ellipse,embed,frame,hr,img,input,isindex,keygen,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),trustAttrs:t("align,alt,app-id,author,autoplay,border,cellpadding,cellspacing,class,color,colspan,controls,data-src,dir,face,height,href,id,ignore,loop,media,muted,name,path,poster,rowspan,size,span,src,start,style,type,unit-id,width,xmlns"),boolAttrs:t("autoplay,controls,ignore,loop,muted"),trustTags:t("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),userAgentStyles:{address:"font-style:italic",big:"display:inline;font-size:1.2em",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",img:"max-width:100%",mark:"background-color:yellow",picture:"max-width:100%",pre:"font-family:monospace;white-space:pre;overflow:scroll",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",u:"text-decoration:underline"}}},35305:function(e,t,_){"use strict";_.d(t,{A:function(){return s}});_(52675),_(89463),_(2259),_(16280),_(76918),_(26099),_(47764),_(62953);var r=_(28116);function s(e,t){var _="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!_){if(Array.isArray(e)||(_=(0,r.A)(e))||t&&e&&"number"==typeof e.length){_&&(e=_);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,a=!1;return{s:function(){_=_.call(e)},n:function(){var e=_.next();return n=e.done,e},e:function(e){a=!0,o=e},f:function(){try{n||null==_["return"]||_["return"]()}finally{if(a)throw o}}}}}}]);